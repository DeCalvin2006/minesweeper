(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{13:function(e,t,r){},8:function(e,t,r){"use strict";r.r(t);var s=r(3),i=r(4),n=r(6),a=r(5),h=r(1),o=r.n(h),d=r(7),c=r.n(d),u=(r(13),r(0)),l=[[1,1],[1,0],[1,-1],[-1,-1],[-1,0],[-1,1],[0,1],[0,-1]];function w(e){return Object(u.jsx)("button",{className:e.className,onClick:function(){return e.onClick()},children:e.value})}var R=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(e){var i;return Object(s.a)(this,r),(i=t.call(this,e)).mineBuilt=!1,i.state={mines:new Array(800).fill(" "),graph:new Array(800).fill(" "),clicked:new Array(800).fill(!1),openedCount:0},i}return Object(i.a)(r,[{key:"buildMines",value:function(){for(var e=this.state.mines.slice(),t=0;t<100;t++){var r=Math.floor(1e4*Math.random())%800;if("X"!==e[r]){e[r]="X";for(var s=0;s<8;s++){var i=l[s],n=Math.floor(r/20)+i[0],a=r%20+i[1];if(n>=0&&n<40&&a>=0&&a<20){var h=20*n+a;"X"!==e[h]&&(" "===e[h]?e[h]=1:e[h]++)}}}else t--}this.setState({graph:this.state.graph,clicked:this.state.clicked,mines:e})}},{key:"handleClick",value:function(e){if(!this.state.clicked[e]){var t=this.state.graph.slice(),r=this.state.openedCount,s=this.state.clicked.slice();console.log(this.state.mines[e]);var i=[];for(i.push(e),t[e]=this.state.mines[e],s[e]=!0;i.length>0;){var n=i.shift();if(t[n]," "===t[n]){r++;for(var a=1;a<8;a++){var h=l[a],o=Math.floor(n/20)+h[0],d=n%20+h[1],c=20*o+d;console.log("(Open ".concat(c," => ").concat(o,",").concat(d,")")),o>=0&&o<40&&d>=0&&d<20&&!s[c]&&"X"!==this.state.mines[c]&&(t[c]=this.state.mines[c],s[c]=!0,i.push(c))}}}this.setState({mines:this.state.mines,graph:t,clicked:s,openedCount:r}),180===r&&this.setState({status:"Win",clicked:this.state.clicked.fill(!0),graph:this.state.mines,openedCount:r}),"X"===this.state.mines[e]&&this.setState({status:"Fail",clicked:this.state.clicked.fill(!0),graph:this.state.mines,openedCount:r})}}},{key:"renderSquare",value:function(e){var t=this;return Object(u.jsx)(w,{className:this.state.clicked[e]?"square":"square-black",value:this.state.graph[e],onClick:function(){return t.handleClick(e)}})}},{key:"renderRow",value:function(e){return Object(u.jsxs)("div",{className:"board-row",children:[this.renderSquare(20*e+0),this.renderSquare(20*e+1),this.renderSquare(20*e+2),this.renderSquare(20*e+3),this.renderSquare(20*e+4),this.renderSquare(20*e+5),this.renderSquare(20*e+6),this.renderSquare(20*e+7),this.renderSquare(20*e+8),this.renderSquare(20*e+9),this.renderSquare(20*e+10),this.renderSquare(20*e+11),this.renderSquare(20*e+12),this.renderSquare(20*e+13),this.renderSquare(20*e+14),this.renderSquare(20*e+15),this.renderSquare(20*e+16),this.renderSquare(20*e+17),this.renderSquare(20*e+18),this.renderSquare(20*e+19)]})}},{key:"render",value:function(){return this.mineBuilt||(this.buildMines(),this.mineBuilt=!0),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"status",children:[this.state.status,this.state.openedCount]}),this.renderRow(0),this.renderRow(1),this.renderRow(2),this.renderRow(3),this.renderRow(4),this.renderRow(5),this.renderRow(6),this.renderRow(7),this.renderRow(8),this.renderRow(9),this.renderRow(10),this.renderRow(11),this.renderRow(12),this.renderRow(13),this.renderRow(14),this.renderRow(15),this.renderRow(16),this.renderRow(17),this.renderRow(18),this.renderRow(19),this.renderRow(20),this.renderRow(21),this.renderRow(22),this.renderRow(23),this.renderRow(24),this.renderRow(25),this.renderRow(26),this.renderRow(27),this.renderRow(28),this.renderRow(29),this.renderRow(30),this.renderRow(31),this.renderRow(32),this.renderRow(33),this.renderRow(34),this.renderRow(35),this.renderRow(36),this.renderRow(37),this.renderRow(38),this.renderRow(39)]})}}]),r}(o.a.Component),f=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"game",children:[Object(u.jsx)("div",{className:"game-board",children:Object(u.jsx)(R,{})}),Object(u.jsxs)("div",{className:"game-info",children:[Object(u.jsx)("div",{}),Object(u.jsx)("ol",{})]})]})}}]),r}(o.a.Component);c.a.render(Object(u.jsx)(f,{}),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.1bde2449.chunk.js.map